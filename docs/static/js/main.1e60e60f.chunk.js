(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,n){e.exports=n.p+"static/media/logo-mini.44183143.svg"},25:function(e,t,n){e.exports=n.p+"static/media/logo.bad82e98.png"},33:function(e,t,n){e.exports=n(52)},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),i=n(16),r=n.n(i),o=(n(38),n(39),n(24)),c=n.n(o),s=n(25),u=n.n(s),m=n(32),h=n(18),b=n(26),d=n(30),p=n(27),g=n(12),f=n(17),k=n(31),y=(n(40),n(28)),v=n(29),w=n.n(v),E=n(59),_=n(57),x=n(58),q=n(55),j=n(56),S=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).blinkingColor="",n._blinkGreen=new _.a,n._blinkRed=new _.a,n._blinkYellow=new _.a,n._blinkBlue=new _.a,n._endPlay=new _.a,n._nextRound=new _.a,n._sequence=[],n._playSequence=[],n.modalStyles={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},n.state={playing:!1,level:0,best:0,showModal:!1},n._howl=new y.Howl({src:["simon-sound.mp3"],sprite:{green:[0,295],red:[296,297],yellow:[595,271],blue:[866,321]},onend:function(){return n._endPlay.next()},onload:function(){n._blinkGreen.pipe(Object(j.a)(500)).subscribe(function(e){n.blinkingColor="green",n.handleBlink(e)}),n._blinkRed.pipe(Object(j.a)(500)).subscribe(function(e){n.blinkingColor="red",n.handleBlink(e)}),n._blinkYellow.pipe(Object(j.a)(500)).subscribe(function(e){n.blinkingColor="yellow",n.handleBlink(e)}),n._blinkBlue.pipe(Object(j.a)(500)).subscribe(function(e){n.blinkingColor="blue",n.handleBlink(e)}),n._endPlay.subscribe(function(){switch(n.blinkingColor){case"green":n.toggleBlinking("green");break;case"red":n.toggleBlinking("red");break;case"blue":n.toggleBlinking("blue");break;case"yellow":n.toggleBlinking("yellow")}n.blinkingColor=null})},onloaderror:function(){}}),n.endGame=n.endGame.bind(Object(g.a)(n)),n}return Object(k.a)(t,e),Object(f.a)(t,[{key:"sequence",get:function(){return this._sequence},set:function(e){var t=this;this._sequence=e,this.sequence.length&&Object(E.a)(1e3).pipe(Object(x.a)(this.sequence.length),Object(q.a)(function(e){return t.sequence[e]})).subscribe(function(e){switch(e){case"green":t._blinkGreen.next(!1);break;case"red":t._blinkRed.next(!1);break;case"yellow":t._blinkYellow.next(!1);break;case"blue":t._blinkBlue.next(!1)}})}},{key:"playSequence",get:function(){return this._playSequence},set:function(e){var t=this;(this._playSequence=e,this.state.playing&&e.length)&&(console.log("sequence played",this.playSequence),this._playSequence.every(function(e,n){return t.sequence[n]===e})?this.playSequence.length===this.sequence.length&&this._nextRound.next(this.state.level+1):this.openModal())}}]),Object(f.a)(t,[{key:"handleBlink",value:function(e){this._howl.play(this.blinkingColor),this.toggleBlinking(this.blinkingColor),e&&(this.playSequence=[].concat(Object(h.a)(this.playSequence),[this.blinkingColor]))}},{key:"clickGreen",value:function(){this._blinkGreen.next(!0)}},{key:"clickRed",value:function(){this._blinkRed.next(!0)}},{key:"clickYellow",value:function(){this._blinkYellow.next(!0)}},{key:"clickBlue",value:function(){this._blinkBlue.next(!0)}},{key:"toggleBlinking",value:function(e){document.getElementById(e).classList.toggle("blinking")}},{key:"startGame",value:function(){var e=this;this._nextRound=new _.a,this._nextRound.subscribe(function(t){e.playSequence=[],e.computeSequence(),e.setState(Object(m.a)({},e.state,{playing:!0,level:t}))}),this._nextRound.next(1)}},{key:"resetGame",value:function(){this.setState({playing:!1,level:0,best:0}),this._nextRound&&!this._nextRound.isStopped&&this._nextRound.unsubscribe(),this.sequence=[],this.playSequence=[]}},{key:"endGame",value:function(){var e=this.state.best;e<this.state.level&&(e=this.state.level),this.setState({playing:!1,level:0,best:e,showModal:!1}),this._nextRound.unsubscribe(),this.sequence=[],this.playSequence=[]}},{key:"computeSequence",value:function(){var e="";switch(Math.floor(Math.random()*Math.floor(4))){case 0:e="green";break;case 1:e="red";break;case 2:e="yellow";break;case 3:e="blue"}console.log("newColor :",e),this.sequence=[].concat(Object(h.a)(this._sequence),[e])}},{key:"openModal",value:function(){this.setState({showModal:!0})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"simon-wrapper"},l.a.createElement("div",{id:"frame",className:"d-flex flex-column justify-content-center align-items-center"},l.a.createElement("div",{id:"upper",className:"d-inline-flex justify-content center align-items-stretch"},l.a.createElement("div",{id:"green",className:"m-1",onClick:function(){return e.clickGreen()}}),l.a.createElement("div",{id:"red",className:"m-1",onClick:function(){return e.clickRed()}})),l.a.createElement("div",{id:"lower",className:"d-inline-flex justify-content center align-items-stretch"},l.a.createElement("div",{id:"yellow",className:"m-1",onClick:function(){return e.clickYellow()}}),l.a.createElement("div",{id:"blue",className:"m-1",onClick:function(){return e.clickBlue()}}))),l.a.createElement("div",{id:"center",className:"p-1 d-flex flex-column justify-content-around align-items-center"},l.a.createElement("div",{className:"label d-flex justify-content-space-between align-items-center"},l.a.createElement("span",null,"Round :"),l.a.createElement("div",{className:"digital-counter"},""+this.state.level)),l.a.createElement("div",{className:"label d-flex justify-content-space-between align-items-center"},l.a.createElement("span",null,"Best :"),l.a.createElement("div",{className:"digital-counter"},this.state.best)),l.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},l.a.createElement("button",{className:"button mr-1",onClick:function(){return e.resetGame()}},"Reset"),l.a.createElement("button",{className:"button",onClick:function(){return e.startGame()},disabled:this.state.playing},"Start"))),l.a.createElement(w.a,{ariaHideApp:!1,isOpen:this.state.showModal,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,style:this.modalStyles,contentLabel:"Example Modal"},l.a.createElement("h2",null,"Fin de partie"),l.a.createElement("p",null,"Vous avez r\xe9ussi \xe0 suivre la s\xe9quence de Simon ",this.state.level," ","fois d'affil\xe9e."),l.a.createElement("button",{className:"btn btn-primary",onClick:this.endGame},"Fermer")))}}]),t}(l.a.Component);function R(){return l.a.createElement("header",null,l.a.createElement("a",{className:"ribbon",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/aurelienvernay/angular-simon-game"},l.a.createElement("img",{width:"149",height:"149",src:"https://github.blog/wp-content/uploads/2008/12/forkme_right_darkblue_121621.png?resize=149%2C149",className:"attachment-full size-full",alt:"Fork me on GitHub","data-recalc-dims":"1"})),l.a.createElement("a",{href:"http://aurelien-vernay-solutions.com"},l.a.createElement("img",{src:u.a,alt:"Aur\xe9lien Vernay Solutions",style:{maxWidth:"100%",maxHeight:"250px",margin:"0 auto"}})),l.a.createElement("h1",null,"React Simon Game"))}function B(){return l.a.createElement("div",{className:"footer text-muted"},l.a.createElement("p",null,"Cette application a \xe9t\xe9 r\xe9alis\xe9e avec le framework \xa0",l.a.createElement("a",{href:"https://reactjs.org/",target:"_blank",rel:"noopener noreferrer"},"React"),", ainsi que la bibliot\xe8que de programmation r\xe9active"," ",l.a.createElement("a",{href:"https://github.com/ReactiveX/rxjs",target:"_blank",rel:"noopener noreferrer"},"Rxjs"),", la biblioth\xe8que audio"," ",l.a.createElement("a",{href:"https://howlerjs.com/",target:"_blank",rel:"noopener noreferrer"},"Howler.js")," ","et la biblioth\xe8que UI"," ",l.a.createElement("a",{href:"https://getbootstrap.com/",target:"_blank",rel:"noopener noreferrer"},"Bootstrap"),"."),l.a.createElement("p",null,l.a.createElement("img",{src:c.a,alt:"Aur\xe9lien Vernay Solutions",height:"32"}),"2019 - Fait par Aur\xe9lien VERNAY (visitez mon"," ",l.a.createElement("a",{href:"https://aurelienvernay.github.io"},"site web")," pour en savoir plus)"))}function C(){return l.a.createElement("section",null,l.a.createElement("h2",null,"Instructions"),l.a.createElement("p",null,"Appuyez sur ",l.a.createElement("em",null,"Start")," pour commencer la partie. Observez la s\xe9quence de couleurs programm\xe9e par Simon, et ne vous trompez pas !"),l.a.createElement("p",null,"Utilisez le bouton Reset pour recommencer la partie \xe0 0. Attention : cela effacera votre record !"))}var N=function(){return l.a.createElement("div",{className:"App h-100 d-flex flex-column justify-content-between align-items-center text-center"},l.a.createElement(R,null),l.a.createElement(C,null),l.a.createElement(S,null),l.a.createElement(B,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(51);r.a.render(l.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.1e60e60f.chunk.js.map